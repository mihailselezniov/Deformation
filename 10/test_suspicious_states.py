import requests
from time import time as t

s = '''
15000,200,1438,0.19,0,1,10,1,1,10,133
15000,200,1420,0.01,1,10,10,1,1,1,115
15000,200,1420,0.01,0,10,10,1,1,10,115
15000,200,1429,0.01,1,10,10,1,1,1,115
15000,200,1429,0.01,0,10,10,1,1,10,115
15000,200,1438,0.01,1,10,10,1,1,1,115
15000,200,1438,0.01,0,10,10,1,1,10,115
15000,200,1420,0.01,1,10,10,1,1,1,124
15000,200,1420,0.01,0,10,10,1,1,10,124
15000,200,1429,0.01,1,10,10,1,1,1,124
15000,200,1429,0.01,0,10,10,1,1,10,124
15000,200,1438,0.01,1,10,10,1,1,1,124
15000,200,1438,0.01,0,10,10,1,1,10,124
15000,200,1420,0.01,1,10,10,1,1,1,133
15000,200,1420,0.01,0,10,10,1,1,10,133
15000,200,1429,0.01,1,10,10,1,1,1,133
15000,200,1438,0.19,0,10,10,1,1,10,133
15000,200,1420,0.01,1,19,10,1,1,1,115
15000,200,1420,0.01,0,19,10,1,1,10,115
15000,200,1429,0.01,1,19,10,1,1,1,115
15000,200,1429,0.01,0,19,10,1,1,10,115
15000,200,1438,0.01,1,19,10,1,1,1,115
15000,200,1438,0.01,0,19,10,1,1,10,115
15000,200,1420,0.01,1,19,10,1,1,1,124
15000,200,1420,0.01,0,19,10,1,1,10,124
15000,200,1429,0.01,1,19,10,1,1,1,124
15000,200,1429,0.01,0,19,10,1,1,10,124
15000,200,1438,0.01,1,19,10,1,1,1,124
15000,200,1438,0.01,0,19,10,1,1,10,124
15000,200,1420,0.01,1,19,10,1,1,1,133
15000,200,1420,0.01,0,19,10,1,1,10,133
15000,200,1429,0.01,1,19,10,1,1,1,133
15000,200,1429,0.01,0,19,10,1,1,10,133
15000,200,1438,0.01,1,19,10,1,1,1,133
15000,200,1438,0.01,0,19,10,1,1,10,133
15000,200,1429,0.01,1,19,19,1,1,10,133
15000,200,1438,0.01,1,19,19,1,1,1,133
15000,200,1438,0.01,1,19,19,1,1,10,133
15000,200,1420,0.1,0,19,19,1,1,1,115
15000,200,1420,0.1,0,19,19,1,1,10,115
15000,200,1429,0.1,0,19,19,1,1,1,115
15000,200,1429,0.1,0,19,19,1,1,10,115
15000,200,1438,0.19,0,19,19,1,1,10,133
15000,200,1420,0.01,1,1,28,1,1,1,115
15000,200,1420,0.01,0,1,28,1,1,10,115
15000,200,1429,0.01,1,1,28,1,1,1,115
15000,200,1429,0.01,0,1,28,1,1,10,115
15000,200,1438,0.01,1,1,28,1,1,1,115
15000,200,1438,0.01,0,1,28,1,1,10,115
15000,200,1420,0.01,1,1,28,1,1,1,124
15000,200,1420,0.01,0,1,28,1,1,10,124
15000,200,1429,0.01,1,1,28,1,1,1,124
15000,200,1429,0.01,0,1,28,1,1,10,124
15000,200,1438,0.01,1,1,28,1,1,1,124
15000,200,1438,0.01,0,1,28,1,1,10,124
15000,200,1420,0.01,1,1,28,1,1,1,133
15000,200,1420,0.01,0,1,28,1,1,10,133
15000,200,1429,0.01,1,1,28,1,1,1,133
15000,200,1429,0.01,0,1,28,1,1,10,133
15000,200,1438,0.01,1,1,28,1,1,1,133
15000,200,1438,0.01,0,1,28,1,1,10,133
15000,200,1429,0.01,1,19,19,19,19,1,133
15000,200,1429,0.01,1,19,19,19,19,10,133
15000,200,1438,0.01,1,19,19,19,19,1,133
15000,200,1438,0.01,1,19,19,19,19,10,133
15000,200,1420,0.1,1,19,19,19,19,1,115
15000,200,1420,0.1,0,19,19,19,19,10,115
15000,200,1429,0.1,1,19,19,19,19,1,115
15000,200,1429,0.1,0,19,19,19,19,10,115
15000,200,1438,0.1,1,19,19,19,19,1,115
15000,200,1438,0.1,0,19,19,19,19,10,115
15000,200,1420,0.1,1,19,19,19,19,1,124
15000,200,1420,0.1,0,19,19,19,19,10,124
15000,200,1429,0.1,1,19,19,19,19,1,124
15000,200,1429,0.1,0,19,19,19,19,10,124
15000,200,1438,0.1,1,19,19,19,19,1,124
15000,200,1438,0.1,0,19,19,19,19,10,124
15000,200,1420,0.1,1,19,19,19,19,1,133
15000,200,1420,0.1,0,19,19,19,19,10,133
15000,200,1429,0.1,1,19,19,19,19,1,133
15000,200,1429,0.1,0,19,19,19,19,10,133
15000,200,1438,0.1,1,19,19,19,19,1,133
15000,200,1438,0.1,0,19,19,19,19,10,133
15000,200,1420,0.01,1,10,10,19,19,10,133
15000,200,1429,0.01,1,10,10,19,19,1,133
15000,200,1429,0.01,1,10,10,19,19,10,133
15000,200,1438,0.01,1,10,10,19,19,1,133
15000,200,1438,0.01,1,10,10,19,19,10,133
15000,200,1420,0.1,0,10,10,19,19,1,115
15000,200,1420,0.1,0,10,10,19,19,10,115
15000,200,1429,0.1,0,10,10,19,19,1,115
15000,200,1429,0.1,0,10,10,19,19,10,115
15000,200,1438,0.1,0,10,10,19,19,1,115
15000,200,1438,0.1,1,10,28,10,19,10,133
15000,200,1420,0.19,1,10,28,10,19,1,115
15000,200,1420,0.19,0,10,28,10,19,10,115
15000,200,1429,0.19,1,10,28,10,19,1,115
15000,200,1429,0.19,0,10,28,10,19,10,115
15000,200,1438,0.19,1,10,28,10,19,1,115
15000,200,1438,0.19,0,10,28,10,19,10,115
15000,200,1420,0.19,1,10,28,10,19,1,124
15000,200,1420,0.19,0,10,28,10,19,10,124
15000,200,1429,0.19,1,10,28,10,19,1,124
15000,200,1429,0.19,0,10,28,10,19,10,124
15000,200,1438,0.19,1,10,28,10,19,1,124
15000,200,1438,0.19,0,10,28,10,19,10,124
15000,200,1420,0.19,1,10,28,10,19,1,133
15000,200,1420,0.19,0,10,28,10,19,10,133
15000,200,1429,0.19,1,10,28,10,19,1,133
15000,200,1429,0.19,0,10,28,10,19,10,133
15000,200,1438,0.19,1,10,28,10,19,1,133
15000,200,1438,0.19,0,10,28,10,19,10,133
15000,200,1420,0.01,1,19,28,10,19,1,115
15000,200,1420,0.01,1,19,28,10,19,10,115
15000,200,1420,0.19,0,1,28,10,19,10,133
15000,200,1429,0.19,0,1,28,10,19,1,133
15000,200,1429,0.19,0,1,28,10,19,10,133
15000,200,1438,0.19,0,1,28,10,19,1,133
15000,200,1438,0.19,0,1,28,10,19,10,133
15000,200,1420,0.01,1,10,28,10,19,1,115
15000,200,1420,0.01,1,10,28,10,19,10,115
15000,200,1429,0.01,1,10,28,10,19,1,115
15000,200,1429,0.01,1,10,28,10,19,10,115
15000,200,1438,0.01,1,10,28,10,19,1,115
15000,200,1438,0.01,1,10,28,10,19,10,115
15000,200,1420,0.19,1,19,19,10,19,1,115
15000,200,1420,0.19,1,19,19,10,19,10,115
15000,200,1429,0.19,1,19,19,10,19,1,115
15000,200,1429,0.19,1,19,19,10,19,10,115
15000,200,1438,0.19,1,19,19,10,19,1,115
15000,200,1438,0.19,0,19,19,10,19,10,115
15000,200,1420,0.19,1,19,19,10,19,1,124
15000,200,1420,0.19,0,19,19,10,19,10,124
15000,200,1429,0.19,1,19,19,10,19,1,124
15000,200,1429,0.19,1,19,19,10,19,10,124
15000,200,1438,0.19,1,19,19,10,19,1,124
15000,200,1438,0.19,1,19,19,10,19,10,124
15000,200,1420,0.19,1,19,19,10,19,1,133
15000,200,1420,0.19,0,19,19,10,19,10,133
15000,200,1429,0.19,1,19,19,10,19,1,133
15000,200,1429,0.19,0,19,19,10,19,10,133
15000,200,1438,0.19,1,19,19,10,19,1,133
15000,200,1438,0.19,1,19,19,10,19,10,133
15000,200,1420,0.01,0,1,28,10,19,1,115
15000,200,1420,0.01,0,1,28,10,19,10,115
15000,200,1429,0.19,0,10,19,10,19,1,133
15000,200,1429,0.19,0,10,19,10,19,10,133
15000,200,1438,0.19,0,10,19,10,19,1,133
15000,200,1438,0.19,0,10,19,10,19,10,133
15000,200,1420,0.01,1,19,19,10,19,1,115
15000,200,1420,0.01,1,19,19,10,19,10,115
15000,200,1429,0.01,1,19,19,10,19,1,115
15000,200,1429,0.01,1,19,19,10,19,10,115
15000,200,1438,0.01,1,10,19,10,19,10,133
15000,200,1420,0.1,1,10,19,10,19,1,115
15000,200,1420,0.1,0,10,19,10,19,10,115
15000,200,1429,0.1,1,10,19,10,19,1,115
15000,200,1429,0.1,0,10,19,10,19,10,115
15000,200,1438,0.1,1,10,19,10,19,1,115
15000,200,1438,0.1,0,10,19,10,19,10,115
15000,200,1420,0.1,1,10,19,10,19,1,124
15000,200,1420,0.1,0,10,19,10,19,10,124
15000,200,1429,0.1,1,10,19,10,19,1,124
15000,200,1429,0.1,0,10,19,10,19,10,124
15000,200,1438,0.1,1,10,19,10,19,1,124
15000,200,1438,0.1,0,10,19,10,19,10,124
15000,200,1420,0.1,1,10,19,10,19,1,133
15000,200,1420,0.1,0,10,19,10,19,10,133
15000,200,1429,0.1,1,10,19,10,19,1,133
15000,200,1429,0.1,0,10,19,10,19,10,133
15000,200,1438,0.1,1,10,19,10,19,1,133
15000,200,1438,0.1,0,10,19,10,19,10,133
15000,200,1420,0.19,0,10,19,10,19,1,115
15000,200,1420,0.1,1,19,10,10,19,1,115
15000,200,1420,0.1,1,19,10,10,19,10,115
15000,200,1429,0.1,1,19,10,10,19,1,115
15000,200,1429,0.1,0,19,10,10,19,10,115
15000,200,1438,0.1,1,19,10,10,19,1,115
15000,200,1438,0.1,1,19,10,10,19,10,115
15000,200,1420,0.1,1,19,10,10,19,1,124
15000,200,1420,0.1,0,19,10,10,19,10,124
15000,200,1429,0.1,1,19,10,10,19,1,124
15000,200,1429,0.1,1,19,10,10,19,10,124
15000,200,1438,0.1,1,19,10,10,19,1,124
15000,200,1438,0.1,0,19,10,10,19,10,124
15000,200,1420,0.1,1,19,10,10,19,1,133
15000,200,1420,0.1,1,19,10,10,19,10,133
15000,200,1429,0.1,1,19,10,10,19,1,133
15000,200,1429,0.1,0,19,10,10,19,10,133
15000,200,1438,0.1,1,19,10,10,19,1,133
15000,200,1438,0.1,0,19,10,10,19,10,133
15000,200,1420,0.19,1,19,10,10,19,1,115
15000,200,1420,0.19,0,19,10,10,19,10,115
15000,200,1429,0.19,1,19,10,10,19,1,115
15000,200,1429,0.19,0,19,10,10,19,10,115
15000,200,1438,0.19,1,19,10,10,19,1,115
15000,200,1438,0.19,0,19,10,10,19,10,115
15000,200,1420,0.19,1,19,10,10,19,1,124
15000,200,1420,0.19,0,19,10,10,19,10,124
15000,200,1429,0.19,1,19,10,10,19,1,124
15000,200,1429,0.19,0,19,10,10,19,10,124
15000,200,1438,0.19,0,19,10,10,19,1,124
15000,200,1438,0.19,0,19,10,10,19,10,124
15000,200,1420,0.19,1,19,10,10,19,1,133
15000,200,1420,0.19,0,19,10,10,19,10,133
15000,200,1429,0.19,1,19,10,10,19,1,133
15000,200,1429,0.19,0,19,10,10,19,10,133
15000,200,1438,0.19,1,19,10,10,19,1,133
15000,200,1438,0.19,0,19,10,10,19,10,133
15000,200,1420,0.01,0,1,19,10,19,1,115
'''

url = 'https://mipt{}-mihailselezniov.c9users.io/test_drive_fiber'.format(0)

for i, line in enumerate(s.split()):
    NUMBER_OF_FRAMES, POINTS_PER_FIBER, density, diameter, is_broken, length, pressure_amplitude, pressure_radius, pressure_time, strength, young = map(float, line.split(','))

    params = {'length': length,
              'diameter': diameter,
              'young': young,
              'density': density,
              'strength': strength,
              'pressure_time': pressure_time,
              'pressure_radius': pressure_radius,
              'pressure_amplitude': pressure_amplitude,
              'POINTS_PER_FIBER': int(POINTS_PER_FIBER),
              'NUMBER_OF_FRAMES': int(NUMBER_OF_FRAMES)}

    r = requests.post(url, json={'params': str([params]*1)}, timeout=None)
    print(r.status_code)
    #break
